<!DOCTYPE html>
<html lang="en">
<head>
   <title></title>
   <meta charset="utf-8">
   <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
   <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0, user-scalable=no">
   <meta name="title" content=''>
   <meta name="Description" content=''>
   <meta name="Keywords" content=''>
   <meta name="Author" content="">
   <meta name="robots" content="ALL">
   <link rel="icon" type="image/png" href="./images/layout/favicon.ico" />
   <link rel="stylesheet" href="./stylesheets/css/common.css">
   <script src="./javascripts/jquery-1.8.2.min.js"></script>
</head>
<body>
   <div class="fix">0</div>
   <div class="guide_line">
      <span class="guide_center"></span>
   </div>
   <div id="wrap">
      <!--header-->
      <header>header</header>
      <!--//header-->
      <!-- container -->
      <div>
      </div>
      <!-- //container -->
       <!--footer-->
      <footer>footer</footer>
      <!--//footer-->
      <script src="https://www.youtube.com/iframe_api"></script>
      <script>
         var idAry = [],
             urlAry = [],
             objAry = [];
         var $ytPlayerCustom = $(".yt_player");
         var $ytPlayBtn = $(".yt_play_btn");

         const li = $(".sb_video").find("li");
         const $videoWrap = $("#AboutStyler").find(".video_wrap");
         let videoData;
         let imgUrl;


         /* 클릭 이벤트 */
         li.on("click", function () {
            let _this = $(this);
            videoData = _this.find(".video_data").data("url");
            imgUrl = _this.find("img").attr("src");

            console.log($videoWrap.find(".yt_player").attr("data-url", videoData))
            // console.log(videoData)
            $videoWrap.find(".img_wrap").attr("style", "background-image:url("+ imgUrl + ");")
         })


         $ytPlayerCustom.each(function (i) {
             $(this).attr("id", "player" + i);
             idAry.push("player" + i);
             urlAry.push($(this).data("url"));
         });
         function onYouTubeIframeAPIReady(){
             for (var i = 0; i < $ytPlayerCustom.length; i++) {
                 var player;
                 var playerId = idAry[i];
                 player = new YT.Player(playerId, {
                    videoId: urlAry[i],
                    playerVars : {
                       rel:0,
                       controls:0
                     },
                     events: {
                        'onStateChange': onPlayerStateChange
                     }
                  });
                  console.log(player)
                 objAry.push(player);
             }
         }
         function onPlayerStateChange(event){
             if (event.data === 2) {
                 TweenMax.to($(event.target.h).siblings(".img_wrap"), .3,{opacity:1, display:"block"});
                 TweenMax.to($(event.target.h).siblings(".yt_play_btn"), .3,{opacity:1, display:"block"});
             } else if(event.data === 1){
                 TweenMax.to($(event.target.h).siblings(".img_wrap"), .3,{opacity:0, display:"none"});
                 TweenMax.to($(event.target.h).siblings(".yt_play_btn"), .3,{opacity:0, display:"none"});
             } else if(event.data === 3 || event.data === 5){
                 return false;
             }
         }
         $ytPlayBtn.each(function (i, obj) {
             $(obj).on("click", function () {
                 objAry[i].playVideo();
             });
         });
        /*  $ytPlayBtn.on("click", function () {
            $(".yt_player").play();
         }); */
     </script>
      <script src="./javascripts/plugin.js"></script>
      <script src="./javascripts/design_common.js"></script>
   </div>
</body>
</html>

